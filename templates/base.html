{% extends 'base.html' %}

{% block content %}

  <h1 class="display-5 fw-bold text-center mb-4">Pel√≠culas Destacadas</h1>

  <div id="carruselDestacadas" class="carousel slide" data-bs-ride="carousel">
    
    <div class="carousel-indicators">
      {% for grupo in peliculas_agrupadas %}
        <button
          type="button"
          data-bs-target="#carruselDestacadas"
          data-bs-slide-to="{{ forloop.counter0 }}"
          class="{% if forloop.first %}active{% endif %}"
        ></button>
      {% endfor %}
    </div>

    <script>
      (function() {
        const theme = localStorage.getItem('theme');
        if (theme) {
          document.documentElement.setAttribute('data-bs-theme', theme);
        } else {
          document.documentElement.setAttribute('data-bs-theme', 'light');
        }
      })();
    </script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <style>
      /* 1. Hacemos espacio abajo para los indicadores */
      #carruselDestacadas {
        margin-bottom: 60px; /* Espacio para que quepan los indicadores */
      }
      
      /* 2. Reposicionamos los indicadores (la barra inferior) */
      #carruselDestacadas .carousel-indicators {
        bottom: -50px; /* Los empuja 50px hacia abajo, fuera del carrusel */
      }
      
      /* 3. Damos color a los indicadores (para que se vean en tema claro/oscuro) */
      #carruselDestacadas .carousel-indicators [data-bs-target] {
         /* Un color neutral que se ve en ambos temas */
        background-color: #888; 
      }
      
      /* 4. Damos color a las